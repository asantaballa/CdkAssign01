@model CdkAssign01.Models.OrdersViewModel

@{
    ViewBag.Title = "Orders Lookup";
}

<br />

@{ Html.BeginForm("Lookup", "Home"); }
<div class="row">
    <div class="col-md-3">
        @Html.Label("Desired Customer Id: ")
        @Html.TextBox("myDesiredCustomerId", "", new { @class = "form-control", style = "width: 150px;" })
    </div>

    <div class="col-md-3">
        <br />
        <input type="submit" value="Lookup" class="btn" />
        <span>&nbsp;</span>
        @Html.ActionLink("Reset", "Index", "Home")
    </div>
</div>

@{ Html.EndForm(); }

@if (Model != null)
{

    <div class="row">
        <div class="col-md-12">
            <span style="color: red">@Model.Message</span>
        </div>
    </div>

    if (Model.Customer.IsValidCustomer)
    {
        <hr />
        <div class="row">
            <div class="col-md-12">
                Customer: @Model.Customer.FirstName @Model.Customer.LastName
            </div>
        </div>
    }

    if (Model.Orders.Count() > 0)
    {
        <hr />
        <div class="row">
            <table>
                <thead>
                    <tr>
                        <th>Customer</th>
                        <th>Order</th>
                        <th>Make</th>
                        <th>Model</th>
                        <th>Color</th>
                        <th>Year</th>
                        <th>Ownership</th>
                    </tr>
                </thead>
                @foreach (var order in Model.Orders)
                {
                    <tr>
                        <td>@order.CustomerId</td>
                        <td>@order.OrderId</td>
                        <td>@order.Make</td>
                        <td>@order.Model</td>
                        <td>@order.Color</td>
                        <td>@order.Year</td>
                        <td>@order.OwnershipType</td>


                    </tr>
                }
            </table>

        </div>

    }

}

